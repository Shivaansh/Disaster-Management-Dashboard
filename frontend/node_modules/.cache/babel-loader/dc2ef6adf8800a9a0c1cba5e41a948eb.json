{"ast":null,"code":"var _jsxFileName = \"D:\\\\Docs\\\\Study Material - McMaster\\\\Year 4\\\\Term 1\\\\4HC3\\\\Assignments\\\\A4\\\\Shivaansh Prasann - Code Review Submission\\\\frontend\\\\src\\\\components\\\\Livefeed.js\";\nimport React from 'react';\nimport './../styles/Livefeed.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport io from 'socket.io-client';\nconst socket = io('http://localhost:3001');\n\nclass Livefeed extends React.Component {\n  constructor(props) {\n    super(props); //initially showing everything\n\n    this.state = {\n      filters: [],\n      low: true,\n      medium: true,\n      high: true,\n      critical: true,\n      fire: true,\n      flood: true,\n      power: true,\n      medical: true\n    };\n  } //Possible improvements: \n  // flip visibility of posts of different categories / severity\n\n\n  flipLow() {\n    this.setState({\n      low: !this.state.low\n    });\n\n    if (!this.state.low) {\n      var index = this.state.filters.indexOf(\"Low\");\n      this.state.filters.splice(index, 1); //remove one element at index index\n    } else {\n      this.state.filters.push(\"Low\");\n    }\n  }\n\n  flipMed() {\n    this.setState({\n      medium: !this.state.medium\n    });\n\n    if (!this.state.medium) {\n      var index = this.state.filters.indexOf(\"Medium\");\n      this.state.filters.splice(index, 1);\n    } else {\n      this.state.filters.push(\"Medium\");\n    }\n  }\n\n  flipHigh() {\n    this.setState({\n      high: !this.state.high\n    });\n\n    if (!this.state.high) {\n      var index = this.state.filters.indexOf(\"High\");\n      this.state.filters.splice(index, 1);\n    } else {\n      this.state.filters.push(\"High\");\n    }\n  }\n\n  flipCrit() {\n    this.setState({\n      critical: !this.state.critical\n    });\n\n    if (!this.state.critical) {\n      var index = this.state.filters.indexOf(\"Critical\");\n      this.state.filters.splice(index, 1);\n    } else {\n      this.state.filters.push(\"Critical\");\n    }\n  }\n\n  flipFire() {\n    this.setState({\n      fire: !this.state.fire\n    });\n\n    if (!this.state.fire) {\n      var index = this.state.filters.indexOf(\"Fire\");\n      this.state.filters.splice(index, 1);\n    } else {\n      this.state.filters.push(\"Fire\");\n    }\n  }\n\n  flipFlood() {\n    this.setState({\n      flood: !this.state.flood\n    });\n\n    if (!this.state.flood) {\n      var index = this.state.filters.indexOf(\"Flood\");\n      this.state.filters.splice(index, 1);\n    } else {\n      this.state.filters.push(\"Flood\");\n    }\n  }\n\n  flipPower() {\n    this.setState({\n      power: !this.state.power\n    });\n\n    if (!this.state.power) {\n      var index = this.state.filters.indexOf(\"Power\");\n      this.state.filters.splice(index, 1);\n    } else {\n      this.state.filters.push(\"Power\");\n    }\n  }\n\n  flipMedical() {\n    this.setState({\n      medical: !this.state.medical\n    });\n\n    if (!this.state.medical) {\n      var index = this.state.filters.indexOf(\"Medical\");\n      this.state.filters.splice(index, 1);\n    } else {\n      this.state.filters.push(\"Medical\");\n    }\n  }\n\n  render() {\n    //Objs is list of posts which have type or severity NOT present in filters array\n    var objs = this.props.posts.filter(word => !(this.state.filters.includes(word.priority) || this.state.filters.includes(word.problem)));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, \"LIVE FEED\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"resultCount\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, \"Total Results: \", objs.length, \" \"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"marker\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }, \"Problems\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"fireBox\",\n      checked: this.state.fire,\n      onChange: this.flipFire.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"chkbox\",\n      for: \"fireBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }\n    }, \"Fire\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"floodBox\",\n      checked: this.state.flood,\n      onChange: this.flipFlood.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"chkbox\",\n      for: \"floodBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }, \"Flood\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"powerBox\",\n      checked: this.state.power,\n      onChange: this.flipPower.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"chkbox\",\n      for: \"powerBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    }, \"Power\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"medBox\",\n      checked: this.state.medical,\n      onChange: this.flipMedical.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"chkbox\",\n      for: \"medBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    }, \"Medical\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"marker\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    }, \"Priorities\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"priorityCritical\",\n      checked: this.state.critical,\n      onChange: this.flipCrit.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"chkbox\",\n      for: \"priorityCritical\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }, \"Critical\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"priorityHigh\",\n      checked: this.state.high,\n      onChange: this.flipHigh.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"chkbox\",\n      for: \"priorityHigh\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    }, \"High\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"priorityMedium\",\n      checked: this.state.medium,\n      onChange: this.flipMed.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"chkbox\",\n      for: \"priorityMedium\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    }, \"Medium\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"priorityLow\",\n      checked: this.state.low,\n      onChange: this.flipLow.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"chkbox\",\n      for: \"priorityLow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }, \"Low\")), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }), objs.map(({\n      name,\n      image,\n      content,\n      problem,\n      priority,\n      id\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"post\",\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"bigField\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 29\n      }\n    }, content), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: image,\n      alt: \"{name}\",\n      class: \"float-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 33\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 85\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"nameField\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 33\n      }\n    }, \" - \", name), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 80\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 33\n      }\n    }, \"Problem: \"), \" \", problem, \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 86\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 33\n      }\n    }, \"Priority: \"), \" \", priority), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 29\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 36\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"postGap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 43\n      }\n    }))));\n  }\n\n}\n\nexport default Livefeed;","map":{"version":3,"sources":["D:/Docs/Study Material - McMaster/Year 4/Term 1/4HC3/Assignments/A4/Shivaansh Prasann - Code Review Submission/frontend/src/components/Livefeed.js"],"names":["React","io","socket","Livefeed","Component","constructor","props","state","filters","low","medium","high","critical","fire","flood","power","medical","flipLow","setState","index","indexOf","splice","push","flipMed","flipHigh","flipCrit","flipFire","flipFlood","flipPower","flipMedical","render","objs","posts","filter","word","includes","priority","problem","length","bind","map","name","image","content","id"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,0BAAP;AACA,OAAO,sCAAP;AAEA,OAAOC,EAAP,MAAe,kBAAf;AACA,MAAMC,MAAM,GAAGD,EAAE,CAAC,uBAAD,CAAjB;;AAEA,MAAME,QAAN,SAAuBH,KAAK,CAACI,SAA7B,CAAuC;AAEnCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN,EADe,CAGf;;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE,EADA;AAETC,MAAAA,GAAG,EAAE,IAFI;AAGTC,MAAAA,MAAM,EAAE,IAHC;AAITC,MAAAA,IAAI,EAAE,IAJG;AAKTC,MAAAA,QAAQ,EAAE,IALD;AAMTC,MAAAA,IAAI,EAAE,IANG;AAOTC,MAAAA,KAAK,EAAE,IAPE;AAQTC,MAAAA,KAAK,EAAE,IARE;AASTC,MAAAA,OAAO,EAAE;AATA,KAAb;AAWH,GAjBkC,CAmBnC;AAEA;;;AACAC,EAAAA,OAAO,GAAG;AACN,SAAKC,QAAL,CAAc;AAAET,MAAAA,GAAG,EAAE,CAAC,KAAKF,KAAL,CAAWE;AAAnB,KAAd;;AACA,QAAI,CAAC,KAAKF,KAAL,CAAWE,GAAhB,EAAqB;AACjB,UAAIU,KAAK,GAAG,KAAKZ,KAAL,CAAWC,OAAX,CAAmBY,OAAnB,CAA2B,KAA3B,CAAZ;AACA,WAAKb,KAAL,CAAWC,OAAX,CAAmBa,MAAnB,CAA0BF,KAA1B,EAAiC,CAAjC,EAFiB,CAEmB;AACvC,KAHD,MAGO;AACH,WAAKZ,KAAL,CAAWC,OAAX,CAAmBc,IAAnB,CAAwB,KAAxB;AACH;AACJ;;AACDC,EAAAA,OAAO,GAAG;AACN,SAAKL,QAAL,CAAc;AAAER,MAAAA,MAAM,EAAE,CAAC,KAAKH,KAAL,CAAWG;AAAtB,KAAd;;AACA,QAAI,CAAC,KAAKH,KAAL,CAAWG,MAAhB,EAAwB;AACpB,UAAIS,KAAK,GAAG,KAAKZ,KAAL,CAAWC,OAAX,CAAmBY,OAAnB,CAA2B,QAA3B,CAAZ;AACA,WAAKb,KAAL,CAAWC,OAAX,CAAmBa,MAAnB,CAA0BF,KAA1B,EAAiC,CAAjC;AACH,KAHD,MAGO;AACH,WAAKZ,KAAL,CAAWC,OAAX,CAAmBc,IAAnB,CAAwB,QAAxB;AACH;AACJ;;AACDE,EAAAA,QAAQ,GAAG;AACP,SAAKN,QAAL,CAAc;AAAEP,MAAAA,IAAI,EAAE,CAAC,KAAKJ,KAAL,CAAWI;AAApB,KAAd;;AACA,QAAI,CAAC,KAAKJ,KAAL,CAAWI,IAAhB,EAAsB;AAClB,UAAIQ,KAAK,GAAG,KAAKZ,KAAL,CAAWC,OAAX,CAAmBY,OAAnB,CAA2B,MAA3B,CAAZ;AACA,WAAKb,KAAL,CAAWC,OAAX,CAAmBa,MAAnB,CAA0BF,KAA1B,EAAiC,CAAjC;AACH,KAHD,MAGO;AACH,WAAKZ,KAAL,CAAWC,OAAX,CAAmBc,IAAnB,CAAwB,MAAxB;AACH;AACJ;;AACDG,EAAAA,QAAQ,GAAG;AACP,SAAKP,QAAL,CAAc;AAAEN,MAAAA,QAAQ,EAAE,CAAC,KAAKL,KAAL,CAAWK;AAAxB,KAAd;;AACA,QAAI,CAAC,KAAKL,KAAL,CAAWK,QAAhB,EAA0B;AACtB,UAAIO,KAAK,GAAG,KAAKZ,KAAL,CAAWC,OAAX,CAAmBY,OAAnB,CAA2B,UAA3B,CAAZ;AACA,WAAKb,KAAL,CAAWC,OAAX,CAAmBa,MAAnB,CAA0BF,KAA1B,EAAiC,CAAjC;AACH,KAHD,MAGO;AACH,WAAKZ,KAAL,CAAWC,OAAX,CAAmBc,IAAnB,CAAwB,UAAxB;AACH;AACJ;;AAEDI,EAAAA,QAAQ,GAAG;AACP,SAAKR,QAAL,CAAc;AAAEL,MAAAA,IAAI,EAAE,CAAC,KAAKN,KAAL,CAAWM;AAApB,KAAd;;AACA,QAAI,CAAC,KAAKN,KAAL,CAAWM,IAAhB,EAAsB;AAClB,UAAIM,KAAK,GAAG,KAAKZ,KAAL,CAAWC,OAAX,CAAmBY,OAAnB,CAA2B,MAA3B,CAAZ;AACA,WAAKb,KAAL,CAAWC,OAAX,CAAmBa,MAAnB,CAA0BF,KAA1B,EAAiC,CAAjC;AACH,KAHD,MAGO;AACH,WAAKZ,KAAL,CAAWC,OAAX,CAAmBc,IAAnB,CAAwB,MAAxB;AACH;AACJ;;AACDK,EAAAA,SAAS,GAAG;AACR,SAAKT,QAAL,CAAc;AAAEJ,MAAAA,KAAK,EAAE,CAAC,KAAKP,KAAL,CAAWO;AAArB,KAAd;;AACA,QAAI,CAAC,KAAKP,KAAL,CAAWO,KAAhB,EAAuB;AACnB,UAAIK,KAAK,GAAG,KAAKZ,KAAL,CAAWC,OAAX,CAAmBY,OAAnB,CAA2B,OAA3B,CAAZ;AACA,WAAKb,KAAL,CAAWC,OAAX,CAAmBa,MAAnB,CAA0BF,KAA1B,EAAiC,CAAjC;AACH,KAHD,MAGO;AACH,WAAKZ,KAAL,CAAWC,OAAX,CAAmBc,IAAnB,CAAwB,OAAxB;AACH;AACJ;;AACDM,EAAAA,SAAS,GAAG;AACR,SAAKV,QAAL,CAAc;AAAEH,MAAAA,KAAK,EAAE,CAAC,KAAKR,KAAL,CAAWQ;AAArB,KAAd;;AACA,QAAI,CAAC,KAAKR,KAAL,CAAWQ,KAAhB,EAAuB;AACnB,UAAII,KAAK,GAAG,KAAKZ,KAAL,CAAWC,OAAX,CAAmBY,OAAnB,CAA2B,OAA3B,CAAZ;AACA,WAAKb,KAAL,CAAWC,OAAX,CAAmBa,MAAnB,CAA0BF,KAA1B,EAAiC,CAAjC;AACH,KAHD,MAGO;AACH,WAAKZ,KAAL,CAAWC,OAAX,CAAmBc,IAAnB,CAAwB,OAAxB;AACH;AACJ;;AACDO,EAAAA,WAAW,GAAG;AACV,SAAKX,QAAL,CAAc;AAAEF,MAAAA,OAAO,EAAE,CAAC,KAAKT,KAAL,CAAWS;AAAvB,KAAd;;AACA,QAAI,CAAC,KAAKT,KAAL,CAAWS,OAAhB,EAAyB;AACrB,UAAIG,KAAK,GAAG,KAAKZ,KAAL,CAAWC,OAAX,CAAmBY,OAAnB,CAA2B,SAA3B,CAAZ;AACA,WAAKb,KAAL,CAAWC,OAAX,CAAmBa,MAAnB,CAA0BF,KAA1B,EAAiC,CAAjC;AACH,KAHD,MAGO;AACH,WAAKZ,KAAL,CAAWC,OAAX,CAAmBc,IAAnB,CAAwB,SAAxB;AACH;AACJ;;AAEDQ,EAAAA,MAAM,GAAG;AAEL;AACA,QAAIC,IAAI,GAAG,KAAKzB,KAAL,CAAW0B,KAAX,CAAiBC,MAAjB,CAAyBC,IAAD,IAAU,EAAE,KAAK3B,KAAL,CAAWC,OAAX,CAAmB2B,QAAnB,CAA4BD,IAAI,CAACE,QAAjC,KAA8C,KAAK7B,KAAL,CAAWC,OAAX,CAAmB2B,QAAnB,CAA4BD,IAAI,CAACG,OAAjC,CAAhD,CAAlC,CAAX;AAEA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,eAEI;AAAG,MAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAA2CN,IAAI,CAACO,MAAhD,MAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI;AAAO,MAAA,SAAS,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAKI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,EAAE,EAAC,SAA1B;AAAoC,MAAA,OAAO,EAAE,KAAK/B,KAAL,CAAWM,IAAxD;AACI,MAAA,QAAQ,EAAE,KAAKa,QAAL,CAAca,IAAd,CAAmB,IAAnB,CADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,eAQI;AAAO,MAAA,SAAS,EAAC,QAAjB;AAA0B,MAAA,GAAG,EAAC,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ,eAUI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,EAAE,EAAC,UAA1B;AAAqC,MAAA,OAAO,EAAE,KAAKhC,KAAL,CAAWO,KAAzD;AACI,MAAA,QAAQ,EAAE,KAAKa,SAAL,CAAeY,IAAf,CAAoB,IAApB,CADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVJ,eAaI;AAAO,MAAA,SAAS,EAAC,QAAjB;AAA0B,MAAA,GAAG,EAAC,UAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAbJ,eAeI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,EAAE,EAAC,UAA1B;AAAqC,MAAA,OAAO,EAAE,KAAKhC,KAAL,CAAWQ,KAAzD;AACI,MAAA,QAAQ,EAAE,KAAKa,SAAL,CAAeW,IAAf,CAAoB,IAApB,CADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAfJ,eAkBI;AAAO,MAAA,SAAS,EAAC,QAAjB;AAA0B,MAAA,GAAG,EAAC,UAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAlBJ,eAoBI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,EAAE,EAAC,QAA1B;AAAmC,MAAA,OAAO,EAAE,KAAKhC,KAAL,CAAWS,OAAvD;AACI,MAAA,QAAQ,EAAE,KAAKa,WAAL,CAAiBU,IAAjB,CAAsB,IAAtB,CADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApBJ,eAuBI;AAAO,MAAA,SAAS,EAAC,QAAjB;AAA0B,MAAA,GAAG,EAAC,QAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAvBJ,CAHJ,eA6BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA7BJ,eA+BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,SAAS,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAII;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,EAAE,EAAC,kBAA1B;AAA6C,MAAA,OAAO,EAAE,KAAKhC,KAAL,CAAWK,QAAjE;AACI,MAAA,QAAQ,EAAE,KAAKa,QAAL,CAAcc,IAAd,CAAmB,IAAnB,CADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,eAOI;AAAO,MAAA,SAAS,EAAC,QAAjB;AAA0B,MAAA,GAAG,EAAC,kBAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPJ,eASI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,EAAE,EAAC,cAA1B;AAAyC,MAAA,OAAO,EAAE,KAAKhC,KAAL,CAAWI,IAA7D;AACI,MAAA,QAAQ,EAAE,KAAKa,QAAL,CAAce,IAAd,CAAmB,IAAnB,CADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATJ,eAYI;AAAO,MAAA,SAAS,EAAC,QAAjB;AAA0B,MAAA,GAAG,EAAC,cAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAZJ,eAcI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,EAAE,EAAC,gBAA1B;AAA2C,MAAA,OAAO,EAAE,KAAKhC,KAAL,CAAWG,MAA/D;AACI,MAAA,QAAQ,EAAE,KAAKa,OAAL,CAAagB,IAAb,CAAkB,IAAlB,CADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdJ,eAiBI;AAAO,MAAA,SAAS,EAAC,QAAjB;AAA0B,MAAA,GAAG,EAAC,gBAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjBJ,eAmBI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,EAAE,EAAC,aAA1B;AAAwC,MAAA,OAAO,EAAE,KAAKhC,KAAL,CAAWE,GAA5D;AACI,MAAA,QAAQ,EAAE,KAAKQ,OAAL,CAAasB,IAAb,CAAkB,IAAlB,CADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnBJ,eAsBI;AAAO,MAAA,SAAS,EAAC,QAAjB;AAA0B,MAAA,GAAG,EAAC,aAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAtBJ,CA/BJ,eAwDI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxDJ,EA2DKR,IAAI,CAACS,GAAL,CACG,CAAC;AAAEC,MAAAA,IAAF;AAAQC,MAAAA,KAAR;AAAeC,MAAAA,OAAf;AAAwBN,MAAAA,OAAxB;AAAiCD,MAAAA,QAAjC;AAA2CQ,MAAAA;AAA3C,KAAD,kBACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAsB,MAAA,GAAG,EAAEA,EAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI;AAAO,MAAA,SAAS,EAAC,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6BD,OAA7B,CAFJ,eAGI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,GAAG,EAAED,KAAV;AAAiB,MAAA,GAAG,EAAC,QAArB;AAA8B,MAAA,KAAK,EAAC,YAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,oBACwD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADxD,eAEI;AAAO,MAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAiCD,IAAjC,CAFJ,oBAEmD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFnD,eAGI;AAAO,MAAA,SAAS,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAHJ,OAGgDJ,OAHhD,oBAGyD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHzD,eAII;AAAO,MAAA,SAAS,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ,OAIiDD,QAJjD,CAHJ,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATJ,oBASW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATX,oBASkB;AAAI,MAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATlB,CAFP,CA3DL,CADJ;AA4EH;;AAjLkC;;AAoLvC,eAAejC,QAAf","sourcesContent":["import React from 'react';\r\nimport './../styles/Livefeed.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport io from 'socket.io-client';\r\nconst socket = io('http://localhost:3001');\r\n\r\nclass Livefeed extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        //initially showing everything\r\n        this.state = {\r\n            filters: [],\r\n            low: true,\r\n            medium: true,\r\n            high: true,\r\n            critical: true,\r\n            fire: true,\r\n            flood: true,\r\n            power: true,\r\n            medical: true\r\n        }\r\n    }\r\n\r\n    //Possible improvements: \r\n\r\n    // flip visibility of posts of different categories / severity\r\n    flipLow() {\r\n        this.setState({ low: !this.state.low })\r\n        if (!this.state.low) {\r\n            var index = this.state.filters.indexOf(\"Low\")\r\n            this.state.filters.splice(index, 1) //remove one element at index index\r\n        } else {\r\n            this.state.filters.push(\"Low\")\r\n        }\r\n    }\r\n    flipMed() {\r\n        this.setState({ medium: !this.state.medium })\r\n        if (!this.state.medium) {\r\n            var index = this.state.filters.indexOf(\"Medium\")\r\n            this.state.filters.splice(index, 1)\r\n        } else {\r\n            this.state.filters.push(\"Medium\")\r\n        }\r\n    }\r\n    flipHigh() {\r\n        this.setState({ high: !this.state.high })\r\n        if (!this.state.high) {\r\n            var index = this.state.filters.indexOf(\"High\")\r\n            this.state.filters.splice(index, 1)\r\n        } else {\r\n            this.state.filters.push(\"High\")\r\n        }\r\n    }\r\n    flipCrit() {\r\n        this.setState({ critical: !this.state.critical })\r\n        if (!this.state.critical) {\r\n            var index = this.state.filters.indexOf(\"Critical\")\r\n            this.state.filters.splice(index, 1)\r\n        } else {\r\n            this.state.filters.push(\"Critical\")\r\n        }\r\n    }\r\n\r\n    flipFire() {\r\n        this.setState({ fire: !this.state.fire })\r\n        if (!this.state.fire) {\r\n            var index = this.state.filters.indexOf(\"Fire\")\r\n            this.state.filters.splice(index, 1)\r\n        } else {\r\n            this.state.filters.push(\"Fire\")\r\n        }\r\n    }\r\n    flipFlood() {\r\n        this.setState({ flood: !this.state.flood })\r\n        if (!this.state.flood) {\r\n            var index = this.state.filters.indexOf(\"Flood\")\r\n            this.state.filters.splice(index, 1)\r\n        } else {\r\n            this.state.filters.push(\"Flood\")\r\n        }\r\n    }\r\n    flipPower() {\r\n        this.setState({ power: !this.state.power })\r\n        if (!this.state.power) {\r\n            var index = this.state.filters.indexOf(\"Power\")\r\n            this.state.filters.splice(index, 1)\r\n        } else {\r\n            this.state.filters.push(\"Power\")\r\n        }\r\n    }\r\n    flipMedical() {\r\n        this.setState({ medical: !this.state.medical })\r\n        if (!this.state.medical) {\r\n            var index = this.state.filters.indexOf(\"Medical\")\r\n            this.state.filters.splice(index, 1)\r\n        } else {\r\n            this.state.filters.push(\"Medical\")\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        //Objs is list of posts which have type or severity NOT present in filters array\r\n        var objs = this.props.posts.filter((word) => !(this.state.filters.includes(word.priority) || this.state.filters.includes(word.problem)))\r\n\r\n        return (\r\n            <div>\r\n                <h1>LIVE FEED</h1>\r\n                <p className=\"resultCount\">Total Results: {objs.length} </p>\r\n                <span>\r\n\r\n                    <label className=\"marker\">Problems</label>\r\n\r\n                    {/* Checkboxes for types of disasters */}\r\n                    <input type=\"checkbox\" id=\"fireBox\" checked={this.state.fire}\r\n                        onChange={this.flipFire.bind(this)}\r\n                    />\r\n                    <label className=\"chkbox\" for=\"fireBox\">Fire</label>\r\n\r\n                    <input type=\"checkbox\" id=\"floodBox\" checked={this.state.flood}\r\n                        onChange={this.flipFlood.bind(this)}\r\n                    />\r\n                    <label className=\"chkbox\" for=\"floodBox\">Flood</label>\r\n\r\n                    <input type=\"checkbox\" id=\"powerBox\" checked={this.state.power}\r\n                        onChange={this.flipPower.bind(this)}\r\n                    />\r\n                    <label className=\"chkbox\" for=\"powerBox\">Power</label>\r\n\r\n                    <input type=\"checkbox\" id=\"medBox\" checked={this.state.medical}\r\n                        onChange={this.flipMedical.bind(this)}\r\n                    />\r\n                    <label className=\"chkbox\" for=\"medBox\">Medical</label>\r\n                </span>\r\n\r\n                <br />\r\n\r\n                <span>\r\n                    <label className=\"marker\">Priorities</label>\r\n\r\n                    {/* Checkboxes for different intensities of disasters */}\r\n                    <input type=\"checkbox\" id=\"priorityCritical\" checked={this.state.critical}\r\n                        onChange={this.flipCrit.bind(this)}\r\n                    />\r\n                    <label className=\"chkbox\" for=\"priorityCritical\">Critical</label>\r\n\r\n                    <input type=\"checkbox\" id=\"priorityHigh\" checked={this.state.high}\r\n                        onChange={this.flipHigh.bind(this)}\r\n                    />\r\n                    <label className=\"chkbox\" for=\"priorityHigh\">High</label>\r\n\r\n                    <input type=\"checkbox\" id=\"priorityMedium\" checked={this.state.medium}\r\n                        onChange={this.flipMed.bind(this)}\r\n                    />\r\n                    <label className=\"chkbox\" for=\"priorityMedium\">Medium</label>\r\n\r\n                    <input type=\"checkbox\" id=\"priorityLow\" checked={this.state.low}\r\n                        onChange={this.flipLow.bind(this)}\r\n                    />\r\n                    <label className=\"chkbox\" for=\"priorityLow\">Low</label>\r\n                </span>\r\n\r\n                <hr />\r\n\r\n                {/* Format for a post*/}\r\n                {objs.map(\r\n                    ({ name, image, content, problem, priority, id }) =>\r\n                        <div className=\"post\" key={id}>\r\n\r\n                            <label className=\"bigField\">{content}</label>\r\n                            <div className=\"form-group\">\r\n                                <img src={image} alt=\"{name}\" class=\"float-left\" /> <br />\r\n                                <label className=\"nameField\"> - {name}</label> <br />\r\n                                <label className=\"field\">Problem: </label> {problem} <br />\r\n                                <label className=\"field\">Priority: </label> {priority}\r\n                            </div>\r\n                            <br /> <br /> <hr className=\"postGap\" />\r\n                        </div>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Livefeed;"]},"metadata":{},"sourceType":"module"}